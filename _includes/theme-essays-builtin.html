<div style="padding-top: 20px" class="ui stackable grid container">
  {% assign language = page.language %}
  {% assign essay_pages = site.pages | where: "type", "essay" | sort: "date" | reverse %}
  {% assign essay_pages_in_lang = essay_pages | where: "language", language %}
  {% assign essay_categories = essay_pages | where: "language", language | map: "labels" | sort | uniq %}

  {% if essay_categories.size > 1 %}  
  <div class="ui fluid floating labeled icon dropdown button">
        <i class="caret down icon"></i>
        <span class="text">Filter</span>
        <div class="menu">
          <div class="header">
            <i class="tags icon"></i>
            Filter per tag
          </div>
          <div class="divider"></div>
          <div id="all" class="item filterButton">
            <spam id="all" class="jsOnly active filterButton">{% if language == 'pt' %}Alles{%- elsif language == 'en' -%}All{% endif %} </spam>
          </div>
          {% for category in essay_categories %}
          <div id="filter-{{ category | remove: " " }}" class="item filterButton">
            <spam id="filter-{{ category | remove: " " }}" class="jsOnly filterButton"> {{ category }} </spam>
          </div>
          {% endfor %}
        </div>
   </div>
  {% endif %}  

  
 {% if essay_pages_in_lang.size > 0 %}
 <div id="parent"></div>
  <div class="ui stackable centered one doorzichtig cards" id="filterable">
      {% for page in essay_pages_in_lang %}
        {% if page.language == language %}
          {% include essay-card.html page=page %}
        {% endif %}
      {% endfor %}
  </div>
  {% endif %}

  <div class="ui hidden divider"></div>
  <img class="ui centered medium image" src="/images/1652558615417.png">

</div>
<script src="/javascript/filters.js"></script>

<script>
  $('.ui.dropdown')
  .dropdown();
</script>
